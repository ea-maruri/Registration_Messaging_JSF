<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
  <title>Home Messaging</title>

  <!-- Required meta tags -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>

  <!-- Bootstrap CSS -->
  <h:outputStylesheet library="css" name="styles.css"/>
  <h:outputStylesheet library="css" name="bootstrap-4.5.2-dist/css/bootstrap.min.css"/>
</h:head>

<h:body>

  <!-- Title -->
  <div class="jumbotron">
    <h1 class="display-3">Let's Start Messaging, #{user.userName}</h1>
    <hr class="my-2"/>
  </div>


  <!-- Log out button -->
  <div class="container">
    <div class="row">
      <div class="col-sm-12 d-flex justify-content-end">
        <h:form>
          <h:commandButton styleClass="my-2 btn-danger" value="Log out" action="#{users_list.doLogout(user)}"/>
        </h:form>

        <p class="d-flex justify-content-end">
          <small class="text-danger">Error while doing log out.</small>
        </p>
      </div>
    </div>
  </div>


  <!-- Message -->
  <div class="container">
    <div class="row">
      <div class="col-sm-12 d-flex justify-content-center">

        <h:form>
          <h:panelGrid columns="1">
            <h:inputTextarea rows="9" cols="55"/>
            <div class="d-flex flex-row-reverse">
              <h:commandButton value="Send" styleClass="btn-success"/>
            </div>
          </h:panelGrid>
        </h:form>

      </div>
    </div>
  </div>


  <hr class="my-2"/>


  <!-- List of users -->
  <div class="container mb-5">
    <div class="row">
      <!-- Logged users -->
      <div class="col-sm-12 col-md-6">
        <h3>Logged Users:</h3>

        <p class="text-primary">
          #{users_list.loggedUsers}
        </p>
      </div>


      <!-- Registered users -->
      <div class="col-sm-12 col-md-6">
        <h3>Registered Users:</h3>

        <p class="text-success">
          #{users_list.registeredUsers}
        </p>

      </div>
    </div>
  </div>


  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <h:outputScript library="javascript" name="jquery.js"/>
  <h:outputScript library="css" name="bootstrap-4.5.2-dist/js/bootstrap.min.js"/>
</h:body>

</html>
